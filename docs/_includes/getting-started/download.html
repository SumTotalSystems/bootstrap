<div class="bs-docs-section">
  <h1 id="download" class="page-header">Download</h1>

  <p class="lead">
    Foundation Bootstrap (currently v{{ site.current_version }}) is installed using a NodeJS module called sumtotal.
  </p>
  <h2 id="install">Install with SumTotal Module</h2>
  <div class="bs-callout bs-callout-info">
    <h4>Only installed once</h4>
    <p>The <code>sumtotal</code> module is a utility to update the Foundation JavaScript and CSS. Only the person maintaining these files is required to install this Node module. If you're not working with maintaining the latest Foundation code in your project you can probably skip this section.</p>
  </div>
  <div class="bs-callout bs-callout-warning">
    <h4>Private repository</h4>
    <p>We have placed the <code>sumtotal</code> module on an internal NPM registry. If you are using NodeJS and NPM for other uses you may want to revert your copy of NPM to point back to the public registry. Do this by running: <code>npm set registry https://registry.npmjs.org</code> at the command line.</p>
  </div>
  <p>The Foundation team is providing a <strong>NodeJS</strong> module which will manage the Foundation source. This module, <code>sumtotal</code>, is used to define where your CSS and Scripts are located and what version of Foundation to deploy.</p>
  <p>To get started you will need to install <a href="http://nodejs.org" target="_blank">NodeJS</a>.</p>

  <h3 id="install-module">Install SumTotal Module</h3>
  <p>
    To download and install Foundation you'll first need to set Node's NPM client to point to SumTotal's private registry. Then you'll run Node's <code>npm</code> command and install the module globally.
  </p>
  {% highlight bash %}
npm set registry http://team.sumtotalsystems.com:4873
npm install -g sumtotal-module grunt-cli gulp bower
  {% endhighlight %}
  <h3 id="init-foundation">Project Initialization</h3>
  <div class="bs-callout bs-callout-warning">
    <h4>Only Needs to be Run Once!</h4>
    <p>The command <code>sumtotal init</code> will produce a file called <em>.sumtotal</em>. This should be stored in your source control system. Note: <code>sumtotal init</code> is only run once!</p>
  </div>
  <div class="bs-callout bs-callout-danger">
    <h4>Config in source control</h4>
    <p>The <em>.sumtotal</em> files must be kept in source control. This file contains all the information needed for upgrading the Foundation components.</p>
  </div>
  <p>Now that the SumTotal module is installed. The Foundation components can be applied to your project. Open a NodeJS command prompt in your project's root. Run the <code>sumtotal init</code>. A series of questions will be asked about where your scripts and styles are stored. Answer the questions and a file called <em>.sumtotal</em> will be created.</p>
  {% highlight bash %} sumtotal init {% endhighlight %}


  <h3 id="install-foundation">Install Foundation</h3>
  <div class="bs-callout bs-callout-warning">
    <h4>Latest Version is Installed</h4>
    <p>The command <code>sumtotal install</code> will install the latest <em>tagged</em> version from the Foundation repository. If you desire to have an older version installed you can follow up the install call with <code>sumtotal upgrade</code> to select a specific version to be installed.</p>
  </div>

  <p>Once the SumTotal module has initialized your project you can then install Foundation. Install will always take the latest version of the code and install it according to the settings in <em>.sumtotal</em>.</p>
  {% highlight bash %} sumtotal install {% endhighlight %}


  <h2 id="upgrading">Upgrading</h2>
  <p>There are two parts that can be upgraded, the SumTotal NodeJS module and the actual Foundation CSS and scripts. The NodeJS module is only required to be upgraded when a fix has been pushed out. When a new version of Foundation is released it is not necessarily going to include a new NodeJS module. When upgrading you'll mostly be upgrading the Foundation source.</p>


  <h3 id="upgrading-module">Upgrade SumTotal Module</h3>
  <p>
    From time to time the Foundation team may require a small update to the module. You may upgrade the module at any time by issuing the following command:
  </p>
  {% highlight bash %}npm upgrade -g sumtotal-module{% endhighlight %}


  <h3 id="upgrading-foundation">Upgrade Foundation</h3>
  <div class="bs-callout bs-callout-info">
    <h4>Only Released Version Will Be Available By Default</h4>
    <p>When the command <code>sumtotal upgrade</code> is run a list of released versions will be presented for selection. <strong>It is recommended that for standard development that you use only this method.</strong> To get the bleeding edge version of Foundation you may run <code>sumtotal upgrade --dev</code>. Beware that this may include breaking changes.</p>
  </div>


  <p>
    In the case where you need to upgrade to a later version of Foundation controls or you wish to change versions you can run the upgrade command to select a version which will be installed.
  </p>
  {% highlight bash %}sumtotal upgrade{% endhighlight %}
</div>
